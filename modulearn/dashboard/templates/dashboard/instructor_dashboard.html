{% extends 'base.html' %}
{% load static %}

{% block title %}Instructor Dashboard - ModuLearn{% endblock %}

{% block extra_css %}
<style>
  .course-card, .course-instance-card {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }
  .course-card:hover, .course-instance-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08) !important;
  }
  .stat-card {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }
  .stat-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }
  .legacy-groups-container {
    scrollbar-width: thin;
    scrollbar-color: #d1d5db transparent;
  }
  .legacy-groups-container::-webkit-scrollbar { width: 6px; }
  .legacy-groups-container::-webkit-scrollbar-track { background: transparent; }
  .legacy-groups-container::-webkit-scrollbar-thumb { background-color: #d1d5db; border-radius: 3px; }
  .legacy-groups-container::-webkit-scrollbar-thumb:hover { background-color: #9ca3af; }

  @media (max-width: 768px) {
    .stat-card { padding: 0.75rem !important; }
  }
</style>
{% endblock %}

{% block content %}
<div class="py-6">
  {% include 'dashboard/components/dashboard_header.html' %}

  <!-- Legacy Dashboard Alert -->
  <div class="alert alert-info flex items-center justify-between mb-6" role="alert">
    <div class="flex items-center gap-2 flex-1">
      <i class="bi bi-info-circle text-lg"></i>
      <div>
        <strong>Legacy Dashboard (MasteryGrids)</strong> â€” Access learning analytics and MasteryGrids data for KnowledgeTree courses.
        <a href="{% url 'dashboard:legacy_dashboard' %}" class="alert-link font-semibold ml-2">
          Open Legacy Dashboard <i class="bi bi-arrow-right ml-1"></i>
        </a>
      </div>
    </div>
    <button type="button" onclick="this.parentElement.remove()" class="ml-4 opacity-70 hover:opacity-100 text-lg leading-none">&times;</button>
  </div>

  {% include 'dashboard/components/courses_section.html' %}
  {% include 'dashboard/components/session_management_section.html' %}
  {% include 'dashboard/components/legacy_courses_section.html' %}
</div>

<!-- Modals -->
{% include 'dashboard/components/modals.html' %}
{% include 'dashboard/components/course_resources_modal.html' %}
{% endblock %}

{% block extra_js %}
{% include 'dashboard/components/instructor_dashboard_scripts.html' %}
{% endblock %}
